{"version":3,"file":"entry.server.js","sources":["../../node_modules/zudoku/src/lib/components/cache.ts","../../zudoku.config.mjs","../../node_modules/zudoku/src/lib/core/plugins.ts","../../node_modules/zudoku/src/app/main.tsx","../../node_modules/zudoku/src/app/entry.server.tsx"],"sourcesContent":["import { useQueryClient } from \"@tanstack/react-query\";\n\nexport const CACHE_KEYS = Object.freeze({\n  API_IDENTITIES: [\"api-identities\"],\n});\n\nexport const useCache = () => {\n  const queryClient = useQueryClient();\n\n  return {\n    invalidateCache: async (key: keyof typeof CACHE_KEYS) => {\n      await queryClient.invalidateQueries({ queryKey: CACHE_KEYS[key] });\n    },\n  };\n};\n\n/**\n * If a query has this key in its queryKey, it will not put its result in the dehydrated state in the SSR.\n *\n * This is useful if the query should only be suspended and not included in the initial HTML response.\n * (e.g. too large in size, or not needed for the initial page load)\n */\nexport const NO_DEHYDRATE = \"no-dehydrate\";\n","/** @type {import('zudoku').ZudokuConfig} */\nconst config = {\n  topNavigation: [\n    { id: \"docs\", label: \"Documentation\" },\n    { id: \"api\", label: \"API Reference\" },\n  ],\n  sidebar: {\n    docs: [\n      {\n        type: \"category\",\n        label: \"Overview\",\n        items: [\"docs/introduction\", \"docs/example\"],\n      },\n    ],\n  },\n  redirects: [{ from: \"/\", to: \"/docs/introduction\" }],\n  apis: {\n    type: \"file\",\n    input: \"./apis/medical_api.yaml\",\n    navigationId: \"api\",\n  },\n  docs: {\n    files: \"/pages/**/*.{md,mdx}\",\n  },\n  \n};\n\nexport default config;\n","import type { LucideIcon } from \"lucide-react\";\nimport type { ReactElement } from \"react\";\nimport type { Location, RouteObject } from \"react-router\";\nimport type { Sidebar } from \"../../config/validators/SidebarSchema.js\";\nimport type { MdxComponentsType } from \"../util/MdxComponents.js\";\nimport type {\n  ApiIdentity,\n  ZudokuContext,\n  ZudokuEvents,\n} from \"./ZudokuContext.js\";\n\nexport type ZudokuPlugin =\n  | CommonPlugin\n  | ProfileMenuPlugin\n  | NavigationPlugin\n  | ApiIdentityPlugin\n  | SearchProviderPlugin\n  | EventConsumerPlugin;\n\nexport type { RouteObject };\n\nexport interface NavigationPlugin {\n  getRoutes: () => RouteObject[];\n  getSidebar?: (path: string, context: ZudokuContext) => Promise<Sidebar>;\n}\n\nexport const createApiIdentityPlugin = (\n  plugin: ApiIdentityPlugin,\n): ApiIdentityPlugin => plugin;\n\nexport const createProfileMenuPlugin = (\n  plugin: ProfileMenuPlugin,\n): ProfileMenuPlugin => plugin;\n\nexport interface ApiIdentityPlugin {\n  getIdentities: (context: ZudokuContext) => Promise<ApiIdentity[]>;\n}\n\nexport interface SearchProviderPlugin {\n  renderSearch: (o: {\n    isOpen: boolean;\n    onClose: () => void;\n  }) => React.JSX.Element | null;\n}\n\nexport interface ProfileMenuPlugin {\n  getProfileMenuItems: (context: ZudokuContext) => ProfileNavigationItem[];\n}\n\nexport type ProfileNavigationItem = {\n  label: string;\n  path?: string;\n  weight?: number;\n  category?: \"top\" | \"middle\" | \"bottom\";\n  children?: ProfileNavigationItem[];\n  icon?: LucideIcon;\n};\n\nexport interface CommonPlugin {\n  initialize?: (\n    context: ZudokuContext,\n  ) => Promise<void | boolean> | void | boolean;\n  getHead?: ({ location }: { location: Location }) => ReactElement | undefined;\n  getMdxComponents?: () => MdxComponentsType;\n}\n\nexport type EventConsumerPlugin<Event extends ZudokuEvents = ZudokuEvents> = {\n  events: { [K in keyof Event]?: Event[K] };\n};\n\nexport const isEventConsumerPlugin = (\n  obj: ZudokuPlugin,\n): obj is EventConsumerPlugin =>\n  \"events\" in obj && typeof obj.events === \"object\";\n\nexport const isProfileMenuPlugin = (\n  obj: ZudokuPlugin,\n): obj is ProfileMenuPlugin =>\n  \"getProfileMenuItems\" in obj && typeof obj.getProfileMenuItems === \"function\";\n\nexport const isNavigationPlugin = (\n  obj: ZudokuPlugin,\n): obj is NavigationPlugin =>\n  \"getRoutes\" in obj && typeof obj.getRoutes === \"function\";\n\nexport const isSearchPlugin = (\n  obj: ZudokuPlugin,\n): obj is SearchProviderPlugin =>\n  \"renderSearch\" in obj && typeof obj.renderSearch === \"function\";\n\nexport const needsInitialization = (obj: ZudokuPlugin): obj is CommonPlugin =>\n  \"initialize\" in obj && typeof obj.initialize === \"function\";\n\nexport const hasHead = (obj: ZudokuPlugin): obj is CommonPlugin =>\n  \"getHead\" in obj && typeof obj.getHead === \"function\";\n\nexport const isMdxProviderPlugin = (obj: ZudokuPlugin): obj is CommonPlugin =>\n  \"getMdxComponents\" in obj && typeof obj.getMdxComponents === \"function\";\n\nexport const isApiIdentityPlugin = (\n  obj: ZudokuPlugin,\n): obj is ApiIdentityPlugin =>\n  \"getIdentities\" in obj && typeof obj.getIdentities === \"function\";\n","import { type RouteObject } from \"react-router\";\nimport { configuredApiKeysPlugin } from \"virtual:zudoku-api-keys-plugin\";\nimport {\n  configuredApiCatalogPlugins,\n  configuredApiPlugins,\n} from \"virtual:zudoku-api-plugins\";\nimport { configuredAuthProvider } from \"virtual:zudoku-auth\";\nimport { configuredCustomPagesPlugin } from \"virtual:zudoku-custom-pages-plugin\";\nimport { configuredDocsPlugins } from \"virtual:zudoku-docs-plugins\";\nimport { configuredRedirectPlugin } from \"virtual:zudoku-redirect-plugin\";\nimport { configuredSearchPlugin } from \"virtual:zudoku-search-plugin\";\nimport { configuredSidebar } from \"virtual:zudoku-sidebar\";\nimport \"virtual:zudoku-theme.css\";\nimport {\n  Layout,\n  RouteGuard,\n  RouterError,\n  StatusPage,\n  Zudoku,\n} from \"zudoku/components\";\nimport type { ZudokuConfig } from \"../config/config.js\";\nimport type { ZudokuContextOptions } from \"../lib/core/ZudokuContext.js\";\nimport { isNavigationPlugin } from \"../lib/core/plugins.js\";\n\nexport const convertZudokuConfigToOptions = (\n  config: ZudokuConfig,\n): ZudokuContextOptions => {\n  const fallbackLogoLight =\n    config.page?.logoUrl ??\n    \"https://cdn.zudoku.dev/logos/zudoku-logo-full-light.svg\";\n  const fallbackLogoDark =\n    config.page?.logoUrl ??\n    \"https://cdn.zudoku.dev/logos/zudoku-logo-full-dark.svg\";\n\n  const isUsingFallback =\n    !config.page?.logoUrl &&\n    !config.page?.logo?.src?.light &&\n    !config.page?.logo?.src?.dark;\n\n  return {\n    basePath: config.basePath,\n    canonicalUrlOrigin: config.canonicalUrlOrigin,\n    protectedRoutes: config.protectedRoutes,\n    page: {\n      ...config.page,\n      logo: {\n        ...(isUsingFallback ? { width: \"130px\" } : {}),\n        ...config.page?.logo,\n        src: {\n          light: config.page?.logo?.src?.light ?? fallbackLogoLight,\n          dark: config.page?.logo?.src?.dark ?? fallbackLogoDark,\n        },\n      },\n    },\n    slotlets: config.UNSAFE_slotlets,\n    metadata: {\n      favicon: \"https://cdn.zudoku.dev/logos/favicon.svg\",\n      title: \"%s - Zudoku\",\n      ...config.metadata,\n    },\n    sidebars: configuredSidebar,\n    topNavigation: config.topNavigation,\n    mdx: config.mdx,\n    authentication: configuredAuthProvider,\n    plugins: [\n      ...configuredDocsPlugins,\n      ...configuredApiPlugins,\n      ...(configuredSearchPlugin ? [configuredSearchPlugin] : []),\n      ...(configuredRedirectPlugin ? [configuredRedirectPlugin] : []),\n      ...(configuredApiKeysPlugin ? [configuredApiKeysPlugin] : []),\n      ...(configuredCustomPagesPlugin ? [configuredCustomPagesPlugin] : []),\n      ...configuredApiCatalogPlugins,\n      ...(configuredAuthProvider?.getAuthenticationPlugin\n        ? [configuredAuthProvider.getAuthenticationPlugin()]\n        : []),\n      ...(config.plugins ?? []),\n    ],\n  };\n};\n\nexport const getRoutesByOptions = (\n  options: ZudokuContextOptions,\n  enableStatusPages = false,\n) => {\n  const allPlugins = [\n    ...(options.plugins ?? []),\n    ...(options.authentication?.getAuthenticationPlugin\n      ? [options.authentication.getAuthenticationPlugin()]\n      : []),\n  ];\n\n  const routes = allPlugins\n    .flatMap((plugin) => (isNavigationPlugin(plugin) ? plugin.getRoutes() : []))\n    .concat(\n      enableStatusPages\n        ? [400, 403, 404, 405, 414, 416, 500, 501, 502, 503, 504].map(\n            (statusCode) => ({\n              path: `/.static/${statusCode}`,\n              element: <StatusPage statusCode={statusCode} />,\n            }),\n          )\n        : [],\n    )\n    .concat([\n      {\n        path: \"*\",\n        loader: () => {\n          throw new Response(\"Not Found\", { status: 404 });\n        },\n      },\n    ]);\n\n  return routes;\n};\n\nexport const getRoutesByConfig = (config: ZudokuConfig): RouteObject[] => {\n  const options = convertZudokuConfigToOptions(config);\n  const routes = getRoutesByOptions(options, config.enableStatusPages);\n\n  return [\n    {\n      element: (\n        <Zudoku {...options}>\n          <Layout />\n        </Zudoku>\n      ),\n      children: [\n        {\n          element: <RouteGuard />,\n          errorElement: <RouterError />,\n          children: routes,\n        },\n      ],\n    },\n  ];\n};\n","import { dehydrate, QueryClient } from \"@tanstack/react-query\";\nimport { type HelmetData } from \"@zudoku/react-helmet-async\";\nimport type express from \"express\";\nimport logger from \"loglevel\";\nimport { Transform } from \"node:stream\";\nimport { renderToPipeableStream, renderToStaticMarkup } from \"react-dom/server\";\nimport {\n  createStaticHandler,\n  createStaticRouter,\n  isRouteErrorResponse,\n  type RouteObject,\n} from \"react-router\";\nimport \"virtual:zudoku-theme.css\";\nimport \"vite/modulepreload-polyfill\";\nimport { BootstrapStatic, ServerError } from \"zudoku/components\";\nimport { NO_DEHYDRATE } from \"../lib/components/cache.js\";\nimport type { FileWritingResponse } from \"../vite/prerender/FileWritingResponse.js\";\nimport \"./main.css\";\nimport { getRoutesByConfig } from \"./main.js\";\nexport { getRoutesByConfig };\n\nexport const render = async ({\n  template,\n  request: baseRequest,\n  response,\n  routes,\n  basePath,\n}: {\n  template: string;\n  request: express.Request | Request;\n  response: express.Response | FileWritingResponse;\n  routes: RouteObject[];\n  basePath?: string;\n}) => {\n  const { query, dataRoutes } = createStaticHandler(routes, {\n    basename: basePath,\n  });\n  const queryClient = new QueryClient();\n\n  const request =\n    baseRequest instanceof Request\n      ? baseRequest\n      : createFetchRequest(baseRequest, response);\n\n  const context = await query(request);\n  let status = 200;\n\n  if (context instanceof Response) {\n    if ([301, 302, 303, 307, 308].includes(context.status)) {\n      return response.redirect(\n        import.meta.env.PROD ? context.status : 307,\n        context.headers.get(\"Location\")!,\n      );\n    }\n\n    throw context;\n  } else if (context.errors) {\n    // when throwing a Response from a loader it will be caught here\n    // unfortunately it is not `instanceof Response` for some reason\n    const firstError = Object.values(context.errors).find(isRouteErrorResponse);\n\n    if (firstError?.status) {\n      status = firstError.status;\n    }\n  }\n\n  const router = createStaticRouter(dataRoutes, context);\n  const helmetContext = {} as HelmetData[\"context\"];\n\n  const App = (\n    <BootstrapStatic\n      router={router}\n      context={context}\n      queryClient={queryClient}\n      helmetContext={helmetContext}\n    />\n  );\n\n  const { pipe } = renderToPipeableStream(App, {\n    onShellError(error) {\n      response.status(500);\n      response.set({ \"Content-Type\": \"text/html\" });\n\n      const html = renderToStaticMarkup(<ServerError error={error} />);\n\n      response.send(html);\n    },\n    onAllReady() {\n      response.set({ \"Content-Type\": \"text/html\" });\n      response.status(status);\n\n      const transformStream = new Transform({\n        transform(chunk, encoding, callback) {\n          response.write(chunk, encoding);\n          callback();\n        },\n      });\n\n      const [htmlStart, htmlEnd] = template.split(\"<!--app-html-->\");\n\n      if (!htmlStart) {\n        throw new Error(\"No <!--app-html--> found in template\");\n      }\n\n      response.write(\n        htmlStart.replace(\n          \"<!--app-helmet-->\",\n          [\n            helmetContext.helmet.title.toString(),\n            helmetContext.helmet.meta.toString(),\n            helmetContext.helmet.link.toString(),\n            helmetContext.helmet.style.toString(),\n            helmetContext.helmet.script.toString(),\n          ].join(\"\\n\"),\n        ),\n      );\n\n      transformStream.on(\"finish\", () => {\n        const dehydrated = dehydrate(queryClient, {\n          shouldDehydrateQuery: (query) =>\n            !query.queryKey.includes(NO_DEHYDRATE),\n        });\n\n        response.end(\n          htmlEnd?.replace(\n            \"</body>\",\n            `<script>window.DATA=${JSON.stringify(dehydrated)}</script></body>`,\n          ),\n        );\n      });\n\n      pipe(transformStream);\n    },\n    onError(error) {\n      status = 500;\n      if (import.meta.env.PROD) {\n        throw error;\n      }\n      logger.error(error);\n    },\n  });\n};\n\nexport function createFetchRequest(\n  req: express.Request,\n  res: express.Response | FileWritingResponse,\n): Request {\n  const origin = `${req.protocol}://${req.get(\"host\")}`;\n  // Note: This had to take originalUrl into account for presumably vite's proxying\n  const url = new URL(req.originalUrl || req.url, origin);\n\n  const controller = new AbortController();\n  res.on(\"close\", () => controller.abort());\n\n  const headers = new Headers();\n\n  for (const [key, values] of Object.entries(req.headers)) {\n    if (values) {\n      if (Array.isArray(values)) {\n        for (const value of values) {\n          headers.append(key, value);\n        }\n      } else {\n        headers.set(key, values);\n      }\n    }\n  }\n\n  const init: RequestInit = {\n    method: req.method,\n    headers,\n    signal: controller.signal,\n  };\n\n  if (req.method !== \"GET\" && req.method !== \"HEAD\") {\n    init.body = req.body;\n  }\n\n  return new Request(url.href, init);\n}\n"],"names":["config","_a","_b","_c","_f","_e","_d","_i","_h","_g","_j","_k","query"],"mappings":"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","x_google_ignoreList":[0,2,3,4]}